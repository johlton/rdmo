{% extends 'core/page.html' %}
{# {% extends 'core/export.html' %} #}
{% load staticfiles %}
{% load compress %}
{% load i18n %}
{% load core_tags %}


{% block head %}
    <meta name='csrftoken' content="{% csrf_token %}" />
    <style>
        .switch {
            cursor: pointer;
        }
        .bggreen {
            background-color: #adff2f;
        }
        .bgred {
            background-color: #ff2f45;
        }
    </style>

    <h1>{% trans 'Conditions' %}</h1>
    <h2>{% trans 'Condition' %}</h2>

    <table style="width:100%">
        <tr>
            <th>Wert</th>
            <th>vorher</th>
            <th>nacher</th>
            <th>import</th>
        </tr>

        {% for key in to_be_imported %}
            <tr>
                <th> {{ key }}</th>
                <th> {{ basemodel|get_attribute:key }} </th>
                <th> {{ importmodel|get_attribute:key }} </th>
                {% if to_be_imported|get_value:key is True %}
                    <th class="switch bgreen"> {{ to_be_imported|get_value:key }}</th>
                {% else %}
                    <th class="switch bgred"> {{ to_be_imported|get_value:key }}</th>
                {% endif %}
            </tr>
        {% endfor %}
    </table>

    <p>
        {{ basemodel.uri_prefix }}
    </p>

    <pre> {% filter force_escape %} {% debug %} {% endfilter %} </pre>

    <script>
        $(document).ready(function(){
            $('.switch').on('click', function(e) {
                $(this).toggleClass("bggreen bgred");
                if ($(this).text() == "True")
                    $(this).text("False")
                else
                    $(this).text("True");
            });
        });
    </script>

{% endblock %}
